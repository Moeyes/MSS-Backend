  // Athletics Management System V4

  // Core entities managed by Super Admin
  Organization [icon: building, color: blue] {
    id int pk
    name string
    createdAt timestamp
  }

  Sports [icon: basketball, color: purple] {
    id int pk
    name string
    createdAt timestamp
  }

  Events [icon: calendar-check, color: yellow] {
    id int pk
    name string
    date date
    createdAt timestamp
  }

  // System users
  Users [icon: users, color: orange] {
    UserID int pk
    username string
    password string
    userLevel int
    createdAt timestamp
  }

  // Central person registry (enrolled people)
  Enroll [icon: user-plus, color: red] {
    id int pk
    name string
    gender string
    nationality string
    dob date
    idCard string
    address string
    createdAt timestamp
    userID int
  }

  // Roles
  Leaders [icon: crown, color: brown] {
    id int pk
    enrollID int
    class string
    phoneNumber string unique
    createdAt timestamp
  }

  Athletes [icon: person-running, color: green] {
    id int pk
    enrollID int
    class string
    uniformSize string
    createdAt timestamp
  }

  // Many-to-Many junctions (fixed with both foreign keys)

  // One Organization can have many Leaders and many Athletes
  // One Leader/Athlete can belong to many Organizations
  LeaderOrganization [icon: link, color: gray] {
    id int pk
    leaderID int
    organizationID int
  }

  AthleteOrganization [icon: link, color: gray] {
    id int pk
    athleteID int
    organizationID int
  }

  // Leader ↔ Sports / Events (many-to-many)
  LeaderSports [icon: link, color: gray] {
    id int pk
    leaderID int
    sportID int
  }

  LeaderEvents [icon: link, color: gray] {
    id int pk
    leaderID int
    eventID int
  }

  // Athlete ↔ Sports / Events (many-to-many)
  AthleteSports [icon: link, color: gray] {
    id int pk
    athleteID int
    sportID int
  }

  AthleteEvents [icon: link, color: gray] {
    id int pk
    athleteID int
    eventID int
  }

  // Relationships (attribute-level where possible)

  Enroll.userID > Users.UserID

  // A person (Enroll) can be exactly one Leader (1:Many)
  Enroll.id < Leaders.enrollID

  // A person (Enroll) can be exactly one Athlete (1:Many)
  Enroll.id < Athletes.enrollID

  // Organization assignments
  LeaderOrganization.leaderID > Leaders.id
  LeaderOrganization.organizationID > Organization.id

  AthleteOrganization.athleteID > Athletes.id
  AthleteOrganization.organizationID > Organization.id

  // Sports & Events assignments
  LeaderSports.leaderID > Leaders.id
  LeaderSports.sportID > Sports.id

  LeaderEvents.leaderID > Leaders.id
  LeaderEvents.eventID > Events.id

  AthleteSports.athleteID > Athletes.id
  AthleteSports.sportID > Sports.id

  AthleteEvents.athleteID > Athletes.id
  AthleteEvents.eventID > Events.id